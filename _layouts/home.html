---
layout: default
---

<!-- HERO SECTION -->
<section class="hero">
    <div class="container">
        <h1>{{ site.title }}</h1>
        <p>{{ site.description }}</p>

        <!-- ADS SLOT HERO -->
        <div class="ads-container">
            <div class="ads-label">ADVERTISEMENT</div>
            <!-- Pasang kode AdSense di sini -->
        </div>
    </div>
</section>

<!-- MAIN CONTENT -->
<section id="channels" class="container main-section">
    <div class="section-header">
        <div class="title-wrapper">
            <span class="live-dot"></span>
            <h2>Channel Populer</h2>
        </div>
    </div>

    <!-- GRID SALURAN -->
    <div id="post-container" class="post-grid">
        {% for post in paginator.posts %}
        <article class="post-card">
            <a href="{{ post.url | relative_url }}" class="card-link-wrapper">
                <div class="thumb-container">
                    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" loading="lazy">
                </div>
                <div class="post-info">
                    <h3>{{ post.title }}</h3>
                    <p class="program-desc">{{ post.program | truncate: 60 }}</p>
                </div>
            </a>
        </article>
        {% endfor %}
    </div>

{% if paginator and paginator.total_pages > 1 %}
<div class="pagination-nav">
  <button 
    id="loadMoreBtn"
    data-next="{{ paginator.next_page_path | relative_url }}"
    class="btn-page">
    Lihat Saluran Lainnya »
  </button>
</div>
{% endif %}

    <!-- ADS SLOT BOTTOM -->
    <div class="ads-container" style="margin-top: 40px;">
        <div class="ads-label">ADVERTISEMENT</div>
        <!-- Pasang kode AdSense di sini -->
    </div>
</section>

<!-- LOAD MORE SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const btn = document.getElementById("loadMoreBtn");
  if (!btn) return;

  btn.addEventListener("click", function () {
    let nextPage = btn.dataset.next;
    if (!nextPage) return;

    btn.innerText = "Memuat...";
    btn.disabled = true;

    fetch(nextPage)
      .then(res => res.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");

        const newPosts = doc.querySelector("#post-container");
        const newBtn = doc.querySelector("#loadMoreBtn");

        if (newPosts) {
          document.getElementById("post-container")
            .insertAdjacentHTML("beforeend", newPosts.innerHTML);
        }

        if (newBtn) {
          btn.dataset.next = newBtn.dataset.next;
          btn.innerText = "Lihat Saluran Lainnya »";
          btn.disabled = false;
        } else {
          btn.remove();
        }
      })
      .catch(() => {
        btn.innerText = "Gagal Memuat";
      });
  });
});
</script>
