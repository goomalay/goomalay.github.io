---
layout: default
---

<!-- HERO SECTION -->
<section class="hero">
    <div class="container">
        <h1>{{ site.title }}</h1>
        <p>{{ site.description }}</p>

        <!-- ADS SLOT HERO -->
        <div class="ads-container">
            <div class="ads-label">ADVERTISEMENT</div>
            <!-- Pasang kode AdSense di sini -->
        </div>
    </div>
</section>

<!-- MAIN CONTENT -->
<section id="channels" class="container main-section">
    <div class="section-header">
        <div class="title-wrapper">
            <span class="live-dot"></span>
            <h2>Channel Populer</h2>
        </div>
    </div>

    <!-- GRID SALURAN -->
    <div id="post-container" class="post-grid">
        {% for post in paginator.posts %}
        <article class="post-card">
            <a href="{{ post.url | relative_url }}" class="card-link-wrapper">
                <div class="thumb-container">
                    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" loading="lazy">
                    <span class="live-tag">LIVE</span>
                </div>
                <div class="post-info">
                    <span class="category">{{ post.category }}</span>
                    <h3>{{ post.title }}</h3>
                    <p class="program-desc">{{ post.program | truncate: 60 }}</p>
                </div>
            </a>
        </article>
        {% endfor %}
    </div>

{% if paginator and paginator.total_pages > 1 %}
<div class="pagination-nav">
  <button 
    id="loadMoreBtn"
    data-next="{{ paginator.next_page_path | relative_url }}"
    class="btn-page">
    Lihat Saluran Lainnya »
  </button>
</div>
{% endif %}

    <!-- ADS SLOT BOTTOM -->
    <div class="ads-container" style="margin-top: 40px;">
        <div class="ads-label">ADVERTISEMENT</div>
        <!-- Pasang kode AdSense di sini -->
    </div>
</section>

<!-- LOAD MORE SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    
    if (!loadMoreBtn) return;
    
    loadMoreBtn.addEventListener('click', function() {
        const nextPageUrl = this.dataset.next;
        if (!nextPageUrl) return;
        
        // Disable tombol dan tampilkan loading
        this.disabled = true;
        this.textContent = 'Memuat...';
        
        fetch(nextPageUrl)
            .then(response => response.text())
            .then(html => {
                // Parse HTML
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Ambil posts dari halaman baru
                const newPosts = doc.querySelectorAll('#post-container .post-card');
                const postContainer = document.getElementById('post-container');
                
                // Tambahkan setiap post ke container
                newPosts.forEach(post => {
                    postContainer.appendChild(post.cloneNode(true));
                });
                
                // Cek apakah ada halaman berikutnya
                const nextBtn = doc.getElementById('loadMoreBtn');
                if (nextBtn && nextBtn.dataset.next) {
                    // Update URL untuk halaman berikutnya
                    this.dataset.next = nextBtn.dataset.next;
                    this.disabled = false;
                    this.textContent = 'Lihat Saluran Lainnya »';
                } else {
                    // Tidak ada halaman lagi
                    this.textContent = 'Semua saluran ditampilkan';
                    this.classList.add('btn-finished');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                this.textContent = 'Error! Klik untuk coba lagi';
                this.disabled = false;
            });
    });
});
</script>
